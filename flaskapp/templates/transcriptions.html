{% extends 'layout.html' %}

{% block body %}
<div class="container text-left"  id="container">

    {% from "include/_formhelpers.html" import render_field %}
    <div class="form-group">
    <form action="" method="POST" enctype="multipart/form-data">
    <ul class="list-group">
        <h1>Transcriptions</h1>

        <li class="list-group-item">
          <div class="row">
            <div class="col-xs-4">
                {{render_field(form.transcription, class_="form-control")}}
            </div>
          </div>
        </li>
          <br>
        <li class="list-group-item">
          <div class="row">
            <div class="col-xs-4">
                <b>Upload audit file</b>
                <input type="file" id="sound" name="sound"/> <br/>
            </div>
          </div>
        </li>
          <br>
        <li class="list-group-item">
          <div class="row">
            <div class="col-xs-4">
                {{render_field(form.template, class_="form-control", )}}
            </div>
          </div>
        </li>
        <br>
        <div class="row">
            <div class="col-xs-2">
                <button id="btn-create" type="submit" name='btn' value='create' class="btn btn-primary" onclick="myFunction()">Create transcription</button>
            </div>
            <div class="col-xs-2">
                <img src="static/ajax-loader.gif" alt="Italian Trulli" style="display: none; height: 35px;" id="loader1">
            </div>
        </div>
    </ul>
    </form>
    </div>

    <br>

    <ul class="list-group">
    <li class="list-group-item">
        <div class="row">
            <div class="col-xs-2">
                <p><b>Transcription</b></p>
            </div>
            <div class="col-xs-2">
                <p><b>Audio file</b></p>
            </div>
            <div class="col-xs-2">
                <p><b>Template file</b></p>
            </div>
            <div class="col-xs-2">
                <p><b>Result</b></p>
            </div>
        </div>
    </li>
    {% for transcription in transcriptions %}
    <li class="list-group-item">
        <form action="" method="POST">
            <div class="row">
                <div class="col-xs-2">
                        <p>{{transcription['M']['Transcription']['S']}}</p>
                </div>
                <div class="col-xs-2">
                        <p>{{transcription['M']['Audiofile']['S']}}</p>
                </div>
                <div class="col-xs-2">
                        <p>{{transcription['M']['Template']['S']}}</p>
                </div>
                <div class="col-xs-2">
                        <a href={{transcription['M']['Result']['S']}}>file</a>
                </div>
                <div class="col-xs-2">
                    <button id="btn-delete" type="submit" name='btn' value={{transcription['M']['Transcription']['S']}} class="btn btn-danger">Delete transcription</button>
                </div>
            </div>
        </form>
    </li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
